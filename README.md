# ForCard

戦略カードゲーム「ForCard」の実装です。

## ゲーム概要

ForCardは、2人対戦のターン制陣取りカードゲームです。各プレイヤーはカードを使って盤面のマスを支配し、ゲーム終了時の総スコアで勝敗を決めます。

### 特徴

- **安定度システム**: 各マスには安定度（-5〜+5）があり、高い安定度で要塞のように固める戦略が可能
- **多様なカード**: 30種類の色カードと10種類の特殊カードで戦略の幅が広がる
- **スコアリング**: エリアスコア、堅牢ボーナス、要塞ボーナスの3要素でスコアを計算

## セットアップ

### 必要な環境

- Node.js (v16以上推奨)
- npm

### インストール

```bash
npm install
```

### ビルド

```bash
npm run build
```

### 実行

```bash
npm run serve
```

ブラウザで `http://localhost:8080` にアクセスしてください。

## ゲームルール

### 盤面

- 5×5の正方グリッド
- 各マスには安定度（-5〜+5）がある
- 安定度 > 0: プレイヤーAの色
- 安定度 < 0: プレイヤーBの色
- 安定度 = 0: 中立

### カード

#### 色カード（C01〜C30）

盤面のマスの安定度を変化させる基本カードです。

- **弱いカード（★☆☆）**: C01〜C10
- **そこそこのカード（★★☆）**: C11〜C20
- **強いカード（★★★）**: C21〜C30

#### 特殊カード（S01〜S10）

特殊な効果を持つカードです。

- **S01: リバーサル・フィールド**: 盤面の安定度符号を反転
- **S02: フォーカスシフト**: 直前の色カードを再適用
- **S03: オーバーロード**: 一点を+5に、周囲を-1に
- **S04: ダブルアクション**: 次ターンに色カードを2枚使用可能
- **S05: スペシャルジャマー**: 相手の特殊カードを無効化
- **S06: カラーギャンブル**: 相手の色カードパターンをコピーして1マス奪う
- **S07: タイムボム**: 2ターン後に3×3ブロックで爆発
- **S08: サクリファイス・スワップ**: 自陣の安定度を集約
- **S09: ラストフォートレス**: 連結領域を要塞化
- **S10: ターゲットロック**: 相手の色カードを一点読み

### ゲームの流れ

1. **セットアップ**: 各プレイヤーに同じ構成のカード15枚を配る
2. **カード選択**: 各プレイヤーがカードと配置マスを選択（同時プロット）
3. **公開**: 両プレイヤーの選択を同時に公開
4. **解決**: カードの効果を適用
5. **ターン終了**: 使用したカードを除外し、次のターンへ
6. **ゲーム終了**: 15ターン経過後、スコアを計算して勝敗を決定

### スコア計算

総スコア = 基本エリアスコア + 堅牢ボーナス + 要塞ボーナス

- **基本エリアスコア**: 自色マス1マスにつき2点（×2スケール）
- **堅牢ボーナス**: 安定度に応じたボーナス（×2スケール）
  - |s|=1: +0点
  - |s|=2: +1点
  - |s|=3: +2点
  - |s|=4: +3点
  - |s|=5: +4点
- **要塞ボーナス**: 連結領域内の要塞形（2×2、L字、十字）に応じたボーナス（×2スケール）

## 操作方法

1. 手札からカードをクリックして選択
2. 盤面のマスをクリックして配置位置を指定
3. 両プレイヤーが選択したら「ターン解決」ボタンをクリック
4. 15ターン終了後、結果が表示されます

## 開発

### プロジェクト構造

```
ForCard/
├── src/
│   ├── cards/          # カード実装
│   │   ├── ColorCard.ts
│   │   ├── colorCards.ts
│   │   └── specialCards.ts
│   ├── Board.ts        # 盤面管理
│   ├── Cell.ts         # マス管理
│   ├── Player.ts       # プレイヤー管理
│   ├── GameManager.ts  # ゲーム進行管理
│   ├── Scoring.ts      # スコア計算
│   ├── CardFactory.ts  # カード生成
│   ├── types.ts        # 型定義
│   └── main.ts         # UI統合
├── index.html          # HTML
├── styles.css          # スタイル
└── package.json        # 依存関係
```

### ビルドと開発

```bash
# 開発モード（自動コンパイル）
npm run dev

# 本番ビルド
npm run build

# ローカルサーバー起動
npm run serve
```

## ライセンス

MIT

